<!--
    Título: Gestión de Usuarios
    Descripción: 
    En esta sección se muestran los usuarios registrados en la aplicación, permitiendo 
    a la administración visualizar su usuario, correo, reputación, edad, número de denuncias,
    número de posts, y estado.
    Además, se cuenta con un buscador para encontrar usuarios por nombre y la posibilidad de
    modificar el estado del usuario.
-->
<div class="fijo">
    <mat-grid-list cols="11" rowHeight="2:1">
        <mat-grid-tile colspan="1"><mat-icon style="margin-top: 15%;"
                (click)="goBack()">arrow_back_ios</mat-icon></mat-grid-tile>
        <mat-grid-tile colspan="9">
            <h1 class="title" style="margin-top: 3%;">GESTIÓN DE USUARIOS</h1>
        </mat-grid-tile>
    </mat-grid-list>

    <hr class="linea-title">
</div>

<div class="desplazable">
    <mat-grid-list cols="6" rowHeight="2:1">
        <mat-grid-tile colspan="1" (click)="buscar()">
            <mat-icon>search</mat-icon>
        </mat-grid-tile>
        <mat-grid-tile colspan="4">
            <mat-form-field class="example-form-field">
                <mat-label>Buscar por nombre</mat-label>
                <input matInput type="text" [(ngModel)]="value" (ngModelChange)="buscar()">
            </mat-form-field>
        </mat-grid-tile>
    </mat-grid-list>

    <div class="tabla">
        <div class="cabecera">
            <div class="cabecera-content usuario">
                <p>Usuario</p>
            </div>
            <div class="cabecera-content correo">
                <p>Correo</p>
            </div>
            <div class="cabecera-content reputacion">
                <p>Reputación</p>
            </div>
            <div class="cabecera-content edad">
                <p>Edad</p>
            </div>
            <div class="cabecera-content numDenuncias">
                <p>Nº denuncias</p>
            </div>
            <div class="cabecera-content numPosts">
                <p>Nº posts</p>
            </div>
            <div class="cabecera-content estado">
                <p>Estado</p>
            </div>
        </div>
        <br>
        <div class="cuerpo">
            <ng-container *ngFor="let user of users">
                <div class="cuerpo-content usuario">
                    <p>{{ user.usuario }}</p>
                </div>
                <div class="cuerpo-content correo">
                    <p>{{ user.correo }}</p>
                </div>
                <div class="cuerpo-content reputacion">
                    <p>{{ user.reputacion }}</p>
                </div>
                <div class="cuerpo-content edad">
                    <p>{{ user.edad }}</p>
                </div>
                <div class="cuerpo-content numDenuncias">
                    <p>{{ user.denuncias }}</p>
                </div>
                <div class="cuerpo-content numPosts">
                    <p>{{ user.post }}</p>
                </div>
                <div class="cuerpo-content estado-cuerpo">
                    <div class="partes">
                        <p>{{ user.estado }}</p>
                    </div>
                    <div class="partes">
                        <mat-icon class="icon" (click)="openDialogEstadoUsuario('0ms', '0ms', user.id, user.estado)">edit</mat-icon>
                    </div>
                </div>
            </ng-container>
        </div>
    </div>
</div>